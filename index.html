<html>
<head>
  <meta charset="utf-8">
  <title>Rank predictor</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="login-root">
    <div class="box-root flex-flex flex-direction--column" style="min-height: 100vh;flex-grow: 1;">
      <div class="loginbackground box-background--white padding-top--64">
        <div class="loginbackground-gridContainer">
          <div class="box-root flex-flex" style="grid-area: top / start / 8 / end;">
            <div class="box-root" style="background-image: linear-gradient(white 0%, rgb(247, 250, 252) 33%); flex-grow: 1;">
            </div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 4 / 2 / auto / 5;">
            <div class="box-root box-divider--light-all-2 animationLeftRight tans3s" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 6 / start / auto / 2;">
            <div class="box-root box-background--blue800" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 7 / start / auto / 4;">
            <div class="box-root box-background--blue animationLeftRight" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 8 / 4 / auto / 6;">
            <div class="box-root box-background--gray100 animationLeftRight tans3s" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 2 / 15 / auto / end;">
            <div class="box-root box-background--cyan200 animationRightLeft tans4s" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 3 / 14 / auto / end;">
            <div class="box-root box-background--blue animationRightLeft" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 4 / 17 / auto / 20;">
            <div class="box-root box-background--gray100 animationRightLeft tans4s" style="flex-grow: 1;"></div>
          </div>
          <div class="box-root flex-flex" style="grid-area: 5 / 14 / auto / 17;">
            <div class="box-root box-divider--light-all-2 animationRightLeft tans3s" style="flex-grow: 1;"></div>
          </div>
        </div>
      </div>
      <div class="box-root padding-top--24 flex-flex flex-direction--column" style="flex-grow: 1; z-index: 9;">
        <div class="box-root padding-top--48 padding-bottom--24 flex-flex flex-justifyContent--center">
          <h1><a href="http://blog.stackfindover.com/" rel="dofollow">IAT 2022 Rank Predictor</a></h1>
        </div>
        <div class="formbg-outer">
          <div class="formbg">
            <div class="formbg-inner padding-horizontal--48">
              <span class="padding-bottom--15">Enter your details to get your predicted rank</span>
              <form id="stripe-login">
                <div class="field padding-bottom--24">
                  <label for="email">Marks</label>
                  <input type="text" id="marks" required/>
                </div>
                <div class="field padding-bottom--24">
                  <div class="grid--50-50">
                    <label for="category">Category</label>
                  </div>
                  <select required name="category" id="cat">
                    <option value="gen">General</option>
                    <option value="EWS">EWS</option>
                    <option value="OBC">OBC-NCL</option>
                    <option value="SC">SC</option>
                    <option value="ST">ST</option>
                  </select>
                </div>
                
                <div class="field padding-bottom--24">
                  <span class="btn" onclick="getRank()">Predict!</span>
                </div>
              </form>
              <div id="rank" style="display:none">
                
                <table border="0px">
                  <h4>Your predicted Rank:</h4>
                  <th>
                    <td>Highest Rank</td>
                    <td>Lowest Rank</td>
                  </th>
                  <tr>
                    <td>Overall Rank:</td>
                    <td><input type="text" readonly id="overall-max"></td>
                    <td><input type="text" readonly id="overall-min"></td>
                  </tr>
                  <tr>
                    <td>Category Rank:</td>
                    <td><input type="text" readonly id="catu-min"></td>
                    <td><input type="text" readonly id="catu-max"></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </div>
  <script>

    function ewsrank(high,low){
      var ews_rank = [1204, 1182, 1160, 1138, 1117, 1096, 1074, 1052, 1031, 1010, 988, 966, 945, 924, 902, 880, 859, 838, 816, 794, 773, 752, 730, 712, 694, 676, 652, 628, 603, 578, 554, 542, 531, 514, 498, 487, 476, 465, 454, 442, 430, 419, 408, 396, 387, 378, 368, 358, 348, 338, 328, 318, 308, 298, 288, 278, 269, 260, 250, 240, 231, 223, 215, 207, 199, 191, 183, 175, 168, 160, 147, 134, 123, 119, 115, 111, 107, 103, 99, 95, 91, 87, 83, 79, 76, 72, 68, 65, 62, 58, 54, 51, 48, 44, 40, 37, 34, 120, 30, 27, 24, 22, 20, 17, 14, 12, 10, 7, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1]
     var ews_marks = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 72, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120]

      var category_rank_max = document.getElementById('catu-max');
      var category_rank_min = document.getElementById('catu-min');

      //finding overall highest marks exist or not
      
      if(high>120 || low<0){
        category_rank_max.value="NA";
      }else{

        var if_highest_overall_exist = ews_marks.findIndex(tocheck_highest_overall);
      function tocheck_highest_overall(mrk){return mrk>high;}

      if(if_highest_overall_exist >= 0){
        var ews_top = ews_rank[if_highest_overall_exist];
        category_rank_max.value = ews_top;
      }


      //finding overall lowest marks exist or not
      
      var if_lowest_overall_exist = ews_marks.findIndex(tocheck_lowest_overall);
      function tocheck_lowest_overall(mrk){return mrk>low;}

      if(if_lowest_overall_exist >= 0){
        var ews_low = ews_rank[if_lowest_overall_exist];
        category_rank_min.value = ews_low;
      }
      }

      
      

    }


function obcrank(high,low){
      var obc_rank = [4746, 4657, 4568, 4479, 4390, 4300, 4224, 4148, 4073, 3998, 3922, 3877, 3832, 3787, 3742, 3697, 3652, 3608, 3564, 3519, 3474, 3430, 3386, 3341, 3296, 3252, 3208, 3163, 3092, 3021, 2950, 2879, 2808, 2737, 2666, 2595, 2524, 2453, 2382, 2311, 2240, 2169, 2098, 2027, 1956, 1885, 1814, 1743, 1672, 1601, 1530, 1458, 1387, 1500, 1446, 1392, 1338, 1284, 1230, 1176, 1122, 1068, 1014, 961, 927, 893, 860, 826, 792, 759, 726, 692, 658, 625, 592, 558, 537, 516, 495, 474, 454, 433, 412, 392, 372, 351, 330, 310, 303, 296, 289, 282, 275, 268, 261, 254, 247, 240, 233, 226, 219, 212, 204, 197, 190, 182, 179, 176, 173, 170, 167, 164, 161, 158, 155, 152, 149, 146, 143, 140, 137, 134, 131, 128, 125, 122, 119, 116, 113, 110, 106, 102, 99, 96, 92, 88, 85, 82, 78, 74, 71, 68, 64, 60, 57, 54, 50, 46, 43, 40, 36, 32, 29, 26, 22, 18, 15, 12, 8, 4, 1]

     var obc_marks = [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155]


      var category_rank_max = document.getElementById('catu-max');
      var category_rank_min = document.getElementById('catu-min');

      //finding overall highest marks exist or not
      
      if(high>155 || low<-5){
        category_rank_max.value="NA";
      }else{

        var if_highest_overall_exist = obc_marks.findIndex(tocheck_highest_overall);
      function tocheck_highest_overall(mrk){return mrk>high;}

      if(if_highest_overall_exist >= 0){
        var obc_top = obc_rank[if_highest_overall_exist];
        category_rank_max.value = obc_top;
      }


      //finding overall lowest marks exist or not
      
      var if_lowest_overall_exist = obc_marks.findIndex(tocheck_lowest_overall);
      function tocheck_lowest_overall(mrk){return mrk>low;}

      if(if_lowest_overall_exist >= 0){
        var obc_low = obc_rank[if_lowest_overall_exist];
        category_rank_min.value = obc_low;
      }
      }

      
      

    }



    function getRank(){
      
      var overall_marks = [-12, -11, -10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160];

      var overall = [22767, 22400, 22150, 21802, 21701, 21537, 21367, 21200, 20279, 20245, 19670, 19200, 19000, 18746, 18492, 18238, 17984, 17730, 17474, 17218, 16962, 16706, 16450, 16194, 15938, 15682, 15426, 15170, 14914, 14658, 14402, 14146, 13890, 13634, 13379, 13000, 12765, 12261, 11780, 11298, 10817, 10336, 9854, 9617, 9383, 9200, 9008, 8808, 8608, 8408, 8209, 8010, 7810, 7610, 7411, 7163, 6989, 6892, 6456, 6142, 6048, 5866, 5675, 5500, 5400, 5256, 4909, 4898, 4757, 4578, 4460, 4400, 4393, 4227, 4061, 3895, 3729, 3563, 3396, 3230, 3132, 3070, 2797, 2617, 2480, 2317, 2268, 2221, 2174, 2126, 2079, 1999, 1918, 1838, 1810, 1748, 1686, 1624, 1561, 1498, 1436, 1374, 1311, 1256, 1201, 1146, 1091, 1036, 981, 918, 854, 803, 752, 724, 696, 668, 602, 572, 541, 510, 480, 445, 436, 427, 418, 409, 400, 391, 382, 373, 364, 355, 346, 337, 328, 319, 310, 301, 292, 283, 274, 265, 256, 248, 239, 230, 222, 214, 205, 196, 188, 180, 171, 162, 154, 146, 137, 128, 120, 112, 103, 94, 86, 78, 69, 60, 52, 44, 35, 26, 18, 10, 1]
;

      
      var marks = parseFloat(document.getElementById('marks').value);
      var category = document.getElementById('cat').value;
      //var marks = mark.toFixed(0);
      

      var max_neg = 0;
      var min_neg = 0;
      var top_marks = 0;
      var low_marks = 0;
      //var bonus = 0;

      if(marks>=170 & marks<180){
        max_neg = 0;
        min_neg = 0;
        var bonus = 0;

      }
      if(marks>=160 & marks<170){
        max_neg = 0;
        min_neg = 0;
        var bonus = 0;

      }
      if(marks>=150 & marks<160){
        max_neg = 0;
        min_neg = 0;
        var bonus = 0;

      }
      if(marks>=140 & marks<150){
        max_neg = 0;
        min_neg = 0;
        var bonus = 0;

      }
      if(marks>=130 & marks<140){
        max_neg = 0;
        min_neg = 0;
        var bonus = 0;

      }
      if(marks>=120 & marks<130){
        max_neg = 0.25;
        min_neg = 0;
        var bonus = 0;

      }
      if(marks>=110 & marks<120){
        max_neg = 0.5;
        min_neg = 0;
        var bonus = 0;

      }

      if(marks>=100 & marks<110){
        max_neg = 0.75;
        min_neg = 0;
        var bonus = 0.25;

      }
      if(marks>=90 & marks<100){
        max_neg = 1;
        min_neg = 0;
        var bonus = 0.25;

      }
      if(marks>=85 & marks<90){
        max_neg = 1.25;
        min_neg = 0;
        var bonus = 0.25;

      }
      if(marks>=80 & marks<85){
        max_neg = 1.5;
        min_neg = 0;
        var bonus = 0.25;

      }
      if(marks>=75 & marks<80){
        max_neg = 1.75;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=70 & marks<75){
        max_neg = 2;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=65 & marks<70){
        max_neg = 2.25;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=60 & marks<65){
        max_neg = 2.5;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=55 & marks<60){
        max_neg = 2.75;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=50 & marks<55){
        max_neg = 3;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=45 & marks<50){
        max_neg = 3.25;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=40 & marks<45){
        max_neg = 3.5;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=35 & marks<40){
        max_neg = 3.75;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=30 & marks<35){
        max_neg = 4;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=25 & marks<30){
        max_neg = 4.25;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=20 & marks<25){
        max_neg = 4.5;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=15 & marks<20){
        max_neg = 4.75;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=10 & marks<15){
        max_neg = 5;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=5 & marks<10){
        max_neg = 5.25;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=0 & marks<5){
        max_neg = 5.5;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks>=-9 & marks<0){
        max_neg = 5.75;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks<=-10 & marks>-12){
        max_neg = 6;
        min_neg = 0;
        var bonus = 0.5;

      }
      if(marks<=-12){alert("No one has scored such low score.");}
        top_marks = marks-min_neg+bonus;
        low_marks = marks-max_neg+bonus;
        var highest = top_marks.toFixed(0);
        var lowest = low_marks.toFixed(0);  
         
      document.getElementById('rank').style.display="block";   
      var overall_rank_max  = document.getElementById('overall-max');
      var overall_rank_min  = document.getElementById('overall-min');
      var category_rank_max = document.getElementById('catu-max');
      var category_rank_min = document.getElementById('catu-min');

     //   alert(highest+" asur "+lowest);
      

      //finding overall highest marks exist or not
      
      var if_highest_overall_exist = overall_marks.findIndex(tocheck_highest_overall);
      function tocheck_highest_overall(mrk){return mrk>highest;}

      if(if_highest_overall_exist >= 0){
        var gen_top = overall[if_highest_overall_exist];
        overall_rank_max.value = gen_top;
      }


      //finding overall lowest marks exist or not
      
      var if_lowest_overall_exist = overall_marks.findIndex(tocheck_lowest_overall);
      function tocheck_lowest_overall(mrk){return mrk>lowest;}

      if(if_lowest_overall_exist >= 0){
        var gen_low = overall[if_lowest_overall_exist];
        overall_rank_min.value = gen_low;
      }else{
        var toruninloop = lowest;
        var if__c_lowest_overall_exist = overall_marks.findIndex(tocheck_lowest_overall);
      function tocheck_lowest_overall(mrk){return mrk>toruninloop;}
        while(if__c_lowest_overall_exist < 0){
          toruninloop = toruninloop-1;
        }
      }
      
      if(category == 'Ews'){ewsrank(highest,lowest);}
      if(category == 'Obc'){obcrank(highest,lowest);}
      if(category == 'SC' || category="ST"){alert("Not enough data available"); category_rank_max.value='NA'; category_rank_min='NA';}
    }
  </script>
</body>

</html>
